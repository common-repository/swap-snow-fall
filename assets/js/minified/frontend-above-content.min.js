var snowStorm=function(t,n){this.autoStart=ssf_script.autoStart,this.flakesMax=ssf_script.number,this.flakesMaxActive=ssf_script.flakesMaxActive,this.animationInterval=ssf_script.animationInterval,this.useGPU=ssf_script.useGPU,this.className=ssf_script.className,this.excludeMobile=ssf_script.enable_mobile,this.flakeBottom=ssf_script.flakeBottom,this.followMouse=ssf_script.followMouse,this.snowColor=ssf_script.color,this.snowCharacter=ssf_script.shape,this.snowStick=ssf_script.snowStick,this.targetElement=ssf_script.targetElement,this.useMeltEffect=ssf_script.useMeltEffect,this.useTwinkleEffect=ssf_script.useTwinkleEffect,this.usePositionFixed=ssf_script.usePositionFixed,this.usePixelPosition=ssf_script.usePixelPosition,this.freezeOnBlur=ssf_script.freezeOnBlur,this.flakeLeftOffset=ssf_script.flakeLeftOffset,this.flakeRightOffset=ssf_script.flakeRightOffset,this.flakeWidth=11,this.flakeHeight=11,this.vMaxX=ssf_script.vMaxX,this.vMaxY=ssf_script.vMaxY,this.zIndex=ssf_script.zIndex;var o,e,s,i,l,a,r=this,f=navigator.userAgent.match(/msie/i),m=navigator.userAgent.match(/msie 6/i),h=navigator.userAgent.match(/mobile|opera m(ob|in)/i),c=f&&"BackCompat"===n.compatMode||m,u=null,d=null,v=null,p=null,k=null,y=null,g=null,x=1,w=!1,F=!1,b=function(){try{n.createElement("div").style.opacity="0.5"}catch(e){return!1}return!0}(),E=!1,z=n.createDocumentFragment();function M(e){return void 0!==s.style[e]?e:null}function H(e){var t=l.call(e),e=t.length;return i?(t[1]="on"+t[1],3<e&&t.pop()):3===e&&t.push(!1),t}function A(e,t){var s=e.shift(),t=[a[t]];i?s[t](e[0],e[1]):s[t].apply(s,e)}function I(e,t){return isNaN(t)&&(t=0),Math.random()*e+t}function _(){t.setTimeout(function(){r.start(!0)},20),r.events.remove(f?n:t,"mousemove",_)}return e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/(r.animationInterval||20))},m=e?function(){return e.apply(t,arguments)}:null,s=n.createElement("div"),(m={transform:{ie:M("-ms-transform"),moz:M("MozTransform"),opera:M("OTransform"),webkit:M("webkitTransform"),w3:M("transform"),prop:null},getAnimationFrame:m}).transform.prop=m.transform.w3||m.transform.moz||m.transform.webkit||m.transform.ie||m.transform.opera,s=null,o=m,this.timer=null,this.flakes=[],this.disabled=!1,this.active=!1,this.meltFrameCount=20,this.meltFrames=[],this.setXY=function(e,t,s){if(!e)return!1;r.usePixelPosition||F?(e.style.left=t-r.flakeWidth+"px",e.style.top=s-r.flakeHeight+"px"):c||r.flakeBottom?(e.style.right=100-t/u*100+"%",e.style.top=Math.min(s,k-r.flakeHeight)+"px"):(e.style.right=100-t/u*100+"%",e.style.bottom=100-s/v*100+"%")},this.events=(i=!t.addEventListener&&t.attachEvent,l=Array.prototype.slice,a={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"},{add:function(){A(H(arguments),"add")},remove:function(){A(H(arguments),"remove")}}),this.randomizeWind=function(){var e,t;if(t=I(r.vMaxX,.2),y=1===parseInt(I(2),10)?-1*t:t,g=I(r.vMaxY,.2),this.flakes)for(e=0;e<this.flakes.length;e++)this.flakes[e].active&&this.flakes[e].setVelocities()},this.scrollHandler=function(){var e;if(p=r.flakeBottom?0:parseInt(t.scrollY||n.documentElement.scrollTop||(c?n.body.scrollTop:0),10),isNaN(p)&&(p=0),!w&&!r.flakeBottom&&r.flakes)for(e=0;e<r.flakes.length;e++)0===r.flakes[e].active&&r.flakes[e].stick()},this.resizeHandler=function(){v=t.innerWidth||t.innerHeight?(u=t.innerWidth-16-r.flakeRightOffset,r.flakeBottom||t.innerHeight):(u=(n.documentElement.clientWidth||n.body.clientWidth||n.body.scrollWidth)-(f?0:8)-r.flakeRightOffset,r.flakeBottom||n.documentElement.clientHeight||n.body.clientHeight||n.body.scrollHeight),k=n.body.offsetHeight,d=parseInt(u/2,10)},this.resizeHandlerAlt=function(){u=r.targetElement.offsetWidth-r.flakeRightOffset,v=r.flakeBottom||r.targetElement.offsetHeight,d=parseInt(u/2,10),k=n.body.offsetHeight},this.freeze=function(){if(r.disabled)return!1;r.disabled=1,r.timer=null},this.resume=function(){if(!r.disabled)return!1;r.disabled=0,r.timerInit()},this.toggleSnow=function(){r.flakes.length?(r.active=!r.active,r.active?(r.show(),r.resume()):(r.stop(),r.freeze())):r.start()},this.stop=function(){var e;for(this.freeze(),e=0;e<this.flakes.length;e++)this.flakes[e].o.style.display="none";r.events.remove(t,"scroll",r.scrollHandler),r.events.remove(t,"resize",r.resizeHandler),r.freezeOnBlur&&(f?(r.events.remove(n,"focusout",r.freeze),r.events.remove(n,"focusin",r.resume)):(r.events.remove(t,"blur",r.freeze),r.events.remove(t,"focus",r.resume)))},this.show=function(){for(var e=0;e<this.flakes.length;e++)this.flakes[e].o.style.display="block"},this.SnowFlake=function(e,t,s){var i=this;this.type=e,this.x=t||parseInt(I(u-20),10),this.y=isNaN(s)?-I(v)-12:s,this.vX=null,this.vY=null,this.vAmpTypes=[1,1.2,1.4,1.6,1.8],this.vAmp=this.vAmpTypes[this.type]||1,this.melting=!1,this.meltFrameCount=r.meltFrameCount,this.meltFrames=r.meltFrames,this.meltFrame=0,this.twinkleFrame=0,this.active=1,this.fontSize=10+this.type/5*10,this.o=n.createElement("div"),this.o.innerHTML=r.snowCharacter,r.className&&this.o.setAttribute("class",r.className),this.o.style.color=r.snowColor,this.o.style.position=w?"fixed":"absolute",r.useGPU&&o.transform.prop&&(this.o.style[o.transform.prop]="translate3d(0px, 0px, 0px)"),this.o.style.width=r.flakeWidth+"px",this.o.style.height=r.flakeHeight+"px",this.o.style.fontFamily="arial,verdana",this.o.style.cursor="default",this.o.style.overflow="hidden",this.o.style.fontWeight="normal",this.o.style.zIndex=r.zIndex,z.appendChild(this.o),this.refresh=function(){if(isNaN(i.x)||isNaN(i.y))return!1;r.setXY(i.o,i.x,i.y)},this.stick=function(){c||r.targetElement!==n.documentElement&&r.targetElement!==n.body?i.o.style.top=v+p-r.flakeHeight+"px":r.flakeBottom?i.o.style.top=r.flakeBottom+"px":(i.o.style.display="none",i.o.style.bottom="0%",i.o.style.position="fixed",i.o.style.display="block")},this.vCheck=function(){0<=i.vX&&i.vX<.2?i.vX=.2:i.vX<0&&-.2<i.vX&&(i.vX=-.2),0<=i.vY&&i.vY<.2&&(i.vY=.2)},this.move=function(){var e=i.vX*x;i.x+=e,i.y+=i.vY*i.vAmp,i.x>=u||u-i.x<r.flakeWidth?i.x=0:e<0&&i.x-r.flakeLeftOffset<-r.flakeWidth&&(i.x=u-r.flakeWidth-1),i.refresh(),v+p-i.y+r.flakeHeight<r.flakeHeight?(i.active=0,r.snowStick?i.stick():i.recycle()):(r.useMeltEffect&&i.active&&i.type<3&&!i.melting&&.998<Math.random()&&(i.melting=!0,i.melt()),r.useTwinkleEffect&&(i.twinkleFrame<0?.97<Math.random()&&(i.twinkleFrame=parseInt(8*Math.random(),10)):(i.twinkleFrame--,b?i.o.style.opacity=i.twinkleFrame&&i.twinkleFrame%2==0?0:1:i.o.style.visibility=i.twinkleFrame&&i.twinkleFrame%2==0?"hidden":"visible")))},this.animate=function(){i.move()},this.setVelocities=function(){i.vX=y+I(.12*r.vMaxX,.1),i.vY=g+I(.12*r.vMaxY,.1)},this.setOpacity=function(e,t){if(!b)return!1;e.style.opacity=t},this.melt=function(){r.useMeltEffect&&i.melting&&i.meltFrame<i.meltFrameCount?(i.setOpacity(i.o,i.meltFrames[i.meltFrame]),i.o.style.fontSize=i.fontSize-i.fontSize*(i.meltFrame/i.meltFrameCount)+"px",i.o.style.lineHeight=r.flakeHeight+2+.75*r.flakeHeight*(i.meltFrame/i.meltFrameCount)+"px",i.meltFrame++):i.recycle()},this.recycle=function(){i.o.style.display="none",i.o.style.position=w?"fixed":"absolute",i.o.style.bottom="auto",i.setVelocities(),i.vCheck(),i.meltFrame=0,i.melting=!1,i.setOpacity(i.o,1),i.o.style.padding="0px",i.o.style.margin="0px",i.o.style.fontSize=i.fontSize+"px",i.o.style.lineHeight=r.flakeHeight+2+"px",i.o.style.textAlign="center",i.o.style.verticalAlign="baseline",i.x=parseInt(I(u-r.flakeWidth-20),10),i.y=parseInt(-1*I(v),10)-r.flakeHeight,i.refresh(),i.o.style.display="block",i.active=1},this.recycle(),this.refresh()},this.snow=function(){for(var e=0,t=null,s=0,i=r.flakes.length;s<i;s++)1===r.flakes[s].active&&(r.flakes[s].move(),e++),r.flakes[s].melting&&r.flakes[s].melt();e<r.flakesMaxActive&&0===(t=r.flakes[parseInt(I(r.flakes.length),10)]).active&&(t.melting=!0),r.timer&&o.getAnimationFrame(r.snow)},this.mouseMove=function(e){if(!r.followMouse)return!0;e=parseInt(e.clientX,10);x=e<d?e/d*2-2:(e-=d)/d*2},this.createSnow=function(e,t){for(var s=0;s<e;s++)r.flakes[r.flakes.length]=new r.SnowFlake(parseInt(I(11),10)),(t||s>r.flakesMaxActive)&&(r.flakes[r.flakes.length-1].active=-1);r.targetElement.appendChild(z)},this.timerInit=function(){r.timer=!0,r.snow()},this.init=function(){for(var e=0;e<r.meltFrameCount;e++)r.meltFrames.push(1-e/r.meltFrameCount);r.randomizeWind(),r.createSnow(r.flakesMax),r.events.add(t,"resize",r.resizeHandler),r.events.add(t,"scroll",r.scrollHandler),r.freezeOnBlur&&(f?(r.events.add(n,"focusout",r.freeze),r.events.add(n,"focusin",r.resume)):(r.events.add(t,"blur",r.freeze),r.events.add(t,"focus",r.resume))),r.resizeHandler(),r.scrollHandler(),r.followMouse&&r.events.add(f?n:t,"mousemove",r.mouseMove),r.animationInterval=Math.max(20,r.animationInterval),r.timerInit()},this.start=function(e){if(E){if(e)return!0}else E=!0;if("string"==typeof r.targetElement){e=r.targetElement;if(r.targetElement=n.getElementById(e),!r.targetElement)throw new Error('Snowstorm: Unable to get targetElement "'+e+'"')}if(r.targetElement||(r.targetElement=n.body||n.documentElement),r.targetElement!==n.documentElement&&r.targetElement!==n.body&&(r.resizeHandler=r.resizeHandlerAlt,r.usePixelPosition=!0),r.resizeHandler(),r.usePositionFixed=r.usePositionFixed&&!c&&!r.flakeBottom,t.getComputedStyle)try{F="relative"===t.getComputedStyle(r.targetElement,null).getPropertyValue("position")}catch(e){F=!1}w=r.usePositionFixed,u&&v&&!r.disabled&&(r.init(),r.active=!0)},r.autoStart&&r.events.add(t,"load",function e(){r.excludeMobile&&h||_(),r.events.remove(t,"load",e)},!1),this}(window,document);